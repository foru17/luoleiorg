---
title: iMac 2015 5K 版外接 USB3.0 硬盘盒+SSD 系统加速体验
date: "2015-11-17"
cover: https://c2.is26.com/blog/2015/11/ssd/show.jpg
categories:
  - tech
tags:
  - e7a1ace4bbb6
---

公司新配置的电脑是2015版的retina 5k iMac 27\`标准版。全新的机器，刚刚到手的时候还惊喜，想着纳尼公司这么豪配这么高端的Mac，以前在猎豹工作，我们UX部门也只是配2K屏幕的iMac27，前一家公司开发的员工配的是定制的21.5寸的iMac。

欣喜还没过10秒，一看到包装上面的硬件规格，一下子就泪了。

- 显示屏：分辨率为 5120 x 2880 像素，支持数百万色彩
- 处理器:Intel Core i5 (3.5GHz)
- 内存:8GB Memory
- 硬盘:1TB Fusion Drive

显示器没话说了，可以算是市场上能买到的最好的显示设备之一了，CPU凑合，内存8G有点吃紧但是也够用了，可是这个`Funsion Driver`混合硬盘，实在是瓶颈。担忧归担忧，电脑发下来了，还是得拿来干活。

## 一.Funsion Driver体验

iMac 5k这配置短板效应十分明显，一周体验下来，可以感觉到日常使用中存在明显的卡顿，具体的表现就是:

- 1.开机慢，大约40-60秒。
- 2.APP启动慢，点开印象笔记、Chrome、邮件客户端，往往要等到3-5秒甚至更久才能打开。
- 3.终端操作慢:在iterm2下进行命令行操作，`cd`到指定目录或者使用`autojump`时，会存在明显的卡顿1秒甚至更久的情况。
- 4.Chrome标签之间切换不流畅，任务切换不流畅。

系统是全新安装，只部署了NodeJS，brew，Xcode，SVN等环境配置，应用也只是安装了Chrome、QQ、印象笔记、Reeder、Photohsop等日常必备的APP，加上下载目录的一些安装包，整个磁盘空间约120G。

这种情况下啊，系统的操作体验还这么多卡顿，对于用惯了SSD的我来说，简直就是一种折磨。

## 二.如何拯救你，不是我的Mac

试图以关键字`iMac 2015 5k 拆机 升级 SSD`等关键字谷歌了一番，发现iMac 5k倒还是可以升级的，内存条最好升级，共有四个插槽，标配版的是两根4G的内存，直接翻开后盖就能升级。

可是硬盘升级就麻烦多了，ifix给5k的iMac的拆解难度评分是5，按照ifix的[拆解教程](https://www.ifixit.com/Guide/iMac+Intel+27-Inch+Retina+5K+Display+Hard+Drive+Replacement/30522)，升级硬盘必须剥离面板，安装还得注意胶水。

电脑是公司的，工作是自己的，我YY了一下IT部门一封邮件抄送人力部门的场景，还是放弃了拆机。

> 不抛弃，不放弃。

拆机升级是别想了，之前在V2EX上看到过有人推荐外接硬盘盒的方案。又以`iMac 2015 SSD USB 雷电 硬盘盒`等关键字搜索了一下，出来的结果不多，可还是有不少人尝试用这种方法升级。

最佳的方法，是采用雷电硬盘盒+SSD的方案，Mac会默认把雷电硬盘盒里的SSD当成默认硬盘，雷电6G的传输速率也让SSD没有了短板。唯一的缺点就是，雷电硬盘盒太贵了，淘宝了一圈，唯一靠谱的单盘雷电硬盘盒最便宜都要600多人民币。╮(╯_╰)╭ 特么我一个SSD都还没你盒子贵。

想来想去，还是考虑更加平民化的`USB3.0硬盘盒 + SSD`的组合方案。最大传输带宽高达5.0Gbps（500MB/s），对于大部分SSD来说，完全已经足够了，并不存在瓶颈（至于那些读写在500MB/s以上的SSD，你都买得起这么贵的SSD了，你还在乎拆个Mac么）。

最终，在硬件上，趁着双十一奶茶东搞活动特价，弄了`OCZ ARÇ 100固态硬盘240G`和`世特力 CSS25U3BK6G-7mm特薄移动硬盘盒`的组合方案。

![full-img ](https://c2.is26.com/blog/2015/11/ssd/show.jpg)

**注意：外接硬盘盒和SSD需要均支持`UASP`协议，对于系统性能有较大帮助。**

> USB-IF (USB Implementers Forum) 一個為開發 USB 規格的企業共同成立的非營利性機構，為了讓傳輸效能更好，制定了UASP（USB Attached SCSI Protocol）傳輸架構，讓 USB3.0 也能像 SCSI 傳輸協定的方式傳輸資料，不需等待上一筆資料傳輸完成後再進行傳輸資料的動作，並改善了在 CPU 的使用率、數據延遲及等待時間。

## 三.格式化SSD

把SSD放进硬盘盒，连接上Mac。

1.首先需要使用系统自带的`磁盘工具`把SSD硬盘格式化成`OS X 拓展(日志式)`。 2.接下来，为了确保OSX能正常从外接硬盘中启动，对硬盘分区，分区方案选择GUID即可。

## 四.系统迁移

如果你不嫌麻烦，可以全新安装一个新的OSX系统在SSD上，参考苹果官方的[如何在与 Mac 连接的外部驱动器上安装 OS X](https://support.apple.com/zh-cn/HT202796)即可，事先可以先Time Machine备份一下系统，再在新系统恢复就好。

由于刚好我手边没有OSX系统的安装镜像，也没有多余的硬盘盒TM备份，最终我选择了算是最方便的`Carbon Copy Cloner`全硬盘资料复制的方案，直接把iMac里机械硬盘所有的数据复制到新的SSD里。

[Carbon Copy Cloner](https://bombich.com/)最新的版本是 4.1.4 ，支持最新的`OS X El Capitan`系统，这是一个收费软件，但是有30天的免费试用期，对于我们这种用一次的用户来说，完全足够了。

![full-img ](https://c2.is26.com/blog/2015/11/ssd/clone.png)

软件的操作十分简单，在Source选择iMac本身的机械硬盘，Destination选择SSD硬盘即可，还可以选择源硬盘的文件，选择性地备份，我懒得选了，想着全部数据也不多才100多G，就直接开始拷贝了。

> 然而，由于，我的磁盘里有大量的碎小文件。整个拷贝过程大概花费了6-10个小时 ╮(╯_╰)╭

![full-img ](https://c2.is26.com/blog/2015/11/ssd/finish.png)

第二天来上班，已经拷贝好了，好像还可以设置任务在完成的时候自动发邮件提示。

## 五.切换到SSD

![full-img ](https://c2.is26.com/blog/2015/11/ssd/start.png)

进入系统设置，选择`启动磁盘`，这个时候应该可以看到SSD的盘符也亮了，按左下角的钥匙开启管理员模式，更换到SSD，再按重新启动。这个时候，电脑就开始重启了。

关机.....

开机.....

登录.....

咦，怎么好像没怎么变呀。

不急，这个时候，我们看下关于本机。

![full-img ](https://c2.is26.com/blog/2015/11/ssd/sys1.png)

启动磁盘已经提示是`OCZ`我的外接SSD硬盘了。

![full-img ](https://c2.is26.com/blog/2015/11/ssd/sys2.png)

储存信息里默认的也已经成了外接USB硬盘。整个系统，跟原来的系统，一模一样！APP没变，登录记忆信息没变，唯一变的，就是下面要说的速度。

#### 六.速度测试

![full-img ](https://c2.is26.com/blog/2015/11/ssd/hd-spped.png)

首先上一张iMac原生Funsion Driver的硬盘读写数据，在关闭其他所有软件的情况下，写入速度约104.5MB/s，读取速度约126.6MB/s，真的是，很不好看。

换了USB3.0硬盘盒+SSD之后，现在的速度怎么样呢。

![full-img ](https://c2.is26.com/blog/2015/11/ssd/ssd-spped.png)

写入速度360.6MB/s,读取速度323.3MB/s，提升了约三倍。跟Mac内置SSD读写相比肯定还是有差距，但是对于我们日常开发来说，已经没问题了。

#### 七.切换SSD后实际体验

- 1.开机从原来的40-60秒，变成了约15秒。
- 2.Chrome秒开，印象笔记秒开，iterm2秒开
- 3.iterm2中各种操作终于流畅了起来。
- 4.Chrome标签切换，窗口切换，几乎无卡顿了。
- 5.Psd加载速度明显块多了。

iMac从早上10点一直开到了晚上7点，中间系统一直很稳定，没出现过崩溃什么的问题。

有人说要小心碰到后面的USB线，如果断掉了，系统肯定崩，这算一个风险吧。

![full-img ](https://c2.is26.com/blog/2015/11/ssd/usb.jpg)

拔插线的时候还是得小心点。另外USB供电的稳定性、USB硬盘盒的质量，都会影响系统稳定性，如果有担忧，建议大家还是养成良好的习惯定时TM备份。

总的来说，USB3.0 + SSD的这个方案，解决了我用公司电脑的一个性能痛点，不求幸福感爆棚，能不痛苦了，已经很开心了。

## 总结

这两天搜索解决方案，也是基于自己的实际情况，公司采购的电脑，很难说面面俱到满足我们开发者的需求，在不违反公司IT规则，用一笔小钱，就可以极大地改善自己的工作条件，还是一笔很划算的支出。

建议就是:

各位老板请给员工升级SSD、请给员工升级SSD、请给员工升级SSD；各位老板请给员工配大屏幕、请给员工配大屏幕、请给员工配大屏幕。

差不了多少钱，员工的整个工作体验都不一样了，你说值不值得呢？

## 更新

- 2017年2月7日:使用这套加速方案，从写完这篇博文，到现在已经一年多了，中间没有出现过不稳定，死机的情况，十分稳定。年前，不少同事吐槽iMac的硬盘性能瓶颈问题，部门集中采购，使用本文的方案做了一个优化，同事们反应改善效果明显。
